{% extends "base.html" %}

{% block title %}Gestión de usuarios · {{ app_nombre }}{% endblock %}

{% block content %}
<h1 class="h3 mt-4 mb-3">Administrar usuarios</h1>

<div class="row">
  <div class="col-md-5">
    <div class="card p-3 mb-4">
      <h2 class="h5 mb-3">Crear nuevo usuario</h2>
      <form method="post" action="{{ url_for('admin_usuarios') }}">
        <div class="mb-3">
          <label for="username" class="form-label">Usuario</label>
          <input type="text" class="form-control" id="username" name="username" required>
        </div>

        <div class="mb-3">
          <label for="password" class="form-label">Contraseña</label>
          <input type="password" class="form-control" id="password" name="password" required>
        </div>

        <div class="form-check mb-3">
          <input class="form-check-input" type="checkbox" id="es_admin" name="es_admin">
          <label class="form-check-label" for="es_admin">
            Administrador
          </label>
        </div>

        <button type="submit" class="btn btn-primary">Crear usuario</button>
      </form>
    </div>
  </div>

  <div class="col-md-7">
    <div class="card p-3 mb-4">
      <h2 class="h5 mb-3">Usuarios existentes</h2>

      <div class="table-responsive">
        <table class="table table-dark table-striped align-middle">
          <thead>
            <tr>
              <th>Usuario</th>
              <th>Admin</th>
            </tr>
          </thead>
          <tbody>
            {% for u in usuarios %}
              <tr>
                <td>{{ u.username }}</td>
                <td>{{ "Sí" if u.es_admin else "No" }}</td>
              </tr>
            {% else %}
              <tr>
                <td colspan="2">No hay usuarios registrados.</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

    </div>
  </div>
</div>
{% endblock %}
