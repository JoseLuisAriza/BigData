{% extends "base.html" %}

{% block title %}Administrar Elastic - {{ app_nombre }}{% endblock %}

{% block content %}
<h1 class="mb-4">Administrar Elastic</h1>

<div class="card card-dark">
    <div class="card-body">
        <p><strong>Índice actual:</strong> {{ estado.index if estado.index is defined else (env('ELASTIC_INDEX') if false else '') }}</p>
        <p><strong>Total de documentos indexados:</strong> {{ estado.total_docs }}</p>

        {% if estado.elastic_ok %}
            <p>
                Esta página demuestra la conexión con Elasticsearch
                y sirve como panel básico de estado.
            </p>
        {% else %}
            <p class="text-danger">
                No se pudo conectar con Elasticsearch.
                {% if estado.error %}<br>{{ estado.error }}{% endif %}
            </p>
        {% endif %}
    </div>
</div>
{% endblock %}
